init() //there will be no dvar for antiexploit. it'll always be on.
{
	level.anti = 0;

	if(level.script == "wawa_ctf")
	{
		thread anti((1606, -999, 959), false);
		thread anti((-1616, 1007, 959), false);
	}

	if(level.script == "mp_carentan")
	{
		thread anti((1025, 3654, 113), false);
		thread anti((937, 3654, 113), false);
		thread anti((843, 3654, 113), false);
	}

	if(level.script == "mp_broadcast")
	{
		thread anti((604, -1183, 115), false);
		thread anti((676, -1137, 115), false);
	}

	if(level.script == "mp_backlot")
	{
		thread anti((1313, 588, 302), false);
		thread anti((-40, 1296, 207), false);
		thread anti((741, 1599, 260), false);
		thread anti((1314, 359, 249), false);
		thread anti((566, -815, 405), false);
		thread anti((-773, -1005, 296), false);
		thread anti((-404, -1376, 211), true);
		thread anti((205, 225, 341), false);
		thread anti((343, 1415, 287), false);
		thread anti((4, -817, 369), false);
		thread anti((-945, -461, 420), false);
	}

	if(level.script == "mp_crash" || level.script == "mp_crash_snow")
	{
		thread anti((1776, 780, 730), false);
		thread anti((469, -140, 453), false);
		thread anti((1691, 669, 704), false);
	}

	if(level.script == "mp_vacant")
	{
		thread anti((169, -60, 161), false);
		thread anti((1207, 861, 120), false);
	}

	if(level.script == "mp_pic")
		thread anti((-1131, -21, 560), false);

	if(level.script == "mp_vacant")
		thread anti((4627, 29, 207), false);

	if(level.script == "mp_construction2")
		thread anti((-2521, -366, 183), false);

	if(level.script == "mp_strike")
	{
		thread anti((755, -111, 200), false);
		thread anti((-2309, 680, 204), false);
		thread anti((-2072, 706, 117), false);
	}
	if(level.script == "mp_bloc")
	{
		thread anti((3371, -7328, 267), false);
		thread anti((-550, -6135, 187), false);
		thread anti((769, -6882, 150), false);
		thread anti((2833, -5518, 176), false);
	}

	if(level.script == "mp_showdown")
	{
		thread anti((-593, -329, 268), true);
		thread anti((-609, -152, 376), false);
		thread anti((-609, -345, 376), false);
	}

	if(level.script == "mp_pk_harbor")
	{
		thread anti((-935, -1417, 653), false);
		thread anti((-833, -1328, 565), false);
	}

	if(level.script == "mp_cargoship")
	{
		thread anti((989, -198, 359), false);
		thread anti((912, -242, 396), false);
		thread anti((-2982, 340, 367), false);
		thread anti((-2999, -342, 362), false);
		thread anti((989, -198, 359), false);
	}

	if(level.script == "mp_pipeline")
	{
		thread anti((1, 1350, 460), false);
		thread anti((1, 1128, 460), false);
		thread anti((1, 905, 460), false);
		thread anti((1, 680, 460), false);

		thread anti((-747, 1671, 476), false);
		thread anti((-804, 1273, 464), false);
		thread anti((-863, 1506, 451), false);
	}

	if(level.script == "mp_cargoship")
	{
		thread anti((-329, 1228, 380), false);
		thread anti((-497, 1229, 380), false);
		thread anti((-168, 1238, 380), false);
	}

	if(level.script == "mp_farm")
	{
		thread anti((-803, -1203, 333), false);
		thread anti((-98, -850, 464), false);
		thread anti((-460, -859, 464), false);
	}

	if(level.script == "mp_citystreets")
	{
		thread anti((2307, 585, 176), false);
		thread anti((2570, 639, 144), false);
		thread anti((5056, -24, 143), false);
		thread anti((5053, 163, 172), false);
		thread anti((4345, -3016, 268), false);
		thread anti((5017, 67, 143), false);
	}

	if(level.script == "mp_convoy")
	{
		thread anti((2369, 433, 148), false);
		thread anti((1713, -915, -29), true);
		thread anti((2163, -729, -13), true);
		thread anti((2672, -474, 1), true);
		thread anti((1229, -1033, 12), true);
		thread anti((2667, -493, -43), true);

		thread anti((1036, -873, 163), false);
		thread anti((1127, -866, 163), false);
		thread anti((1177, -922, 163), false);
		thread anti((1176, -1054, 163), false);
	}

	if(level.script == "mp_overgrown")
	{
		thread anti((-1799, -4754, -128), true);
		thread anti((-1748, -3985, -123), true);
		thread anti((-1769, -4145, -124), true);
		thread anti((-1733, -3985, 8), false);
		thread anti((-1776, -4751, -6), false);
	}

	if(level.script == "mp_crossfire")
	{
		thread anti((3422, -3195, 3), false);
		thread anti((6426, -1324, 192), false);
		thread anti((6310, -1467, 192), false);
		thread anti((4531, -2490, 209), false);
	}
}

anti(place, prone) //if prone == true, only kill them if they're proning, and if prone == false then kill them anyway
{
	level.anti++;
	anti = spawn("trigger_radius", place, 0, 70, 70);

	while(1)
	{
		anti waittill("trigger", player);

		if(prone && player getstance() == "prone" && player.health > -1)
		{
			player.minehook = false; //fix for people getting mined by zombies, somehow
			player suicide();
			player iprintlnbold("Don't go prone here.");
		}

		if(!prone && player.health > -1)
		{
			player.minehook = false;
			player suicide();
			player iprintlnbold("You shouldn't be here.");
		}
	}
}
